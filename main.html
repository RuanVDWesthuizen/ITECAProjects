<script src="main.js"></script>
<link rel="stylesheet" href="main.css">
<!-- JQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<section name="main-page">
    <div class="text-center">
        <div class="row">
            <div class="company-logo col-md-2">
                <a class="navbar-brand" href="../main.php">
                    <img src="Resources\images\stunningBrands.jpeg" alt="Logo" width="100%" height="38" class="d-inline-block align-top">
                </a>
            </div>
            <div class="col-md-4 btn-group dropdown">
                <button name="categories" type="button" class="btn btn-secondary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                    Categories
                </button>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="../404.php">CPU's</a></li>
                    <li><a class="dropdown-item" href="../404.php">GPU's</a></li>
                    <li><a class="dropdown-item" href="../404.php">Motherboards</a></li>
                </ul>
            </div>

            <div class="col-md-5 search-bar-and-button">
                <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                <button id="search-all" class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
            </div>
            <div class="col-md-1 dropdown btn-group">
                <button name="personal" type="button" class="btn btn-secondary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                    Menu
                </button>
                <ul class="dropdown-menu" id="side-menu">
                    <li>
                        <a class="dropdown-item" href="../404.php">Shopping Cart</a>
                    </li>
                    <li>
                        <a class="dropdown-item" href="../register.php">Register</a>
                    </li>
                    <li>
                        <a class="dropdown-item" href="../login.php">Login</a>
                    </li>
                </ul>
            </div>
        </div>
        <!-- Company logo -->
        <section name="company-photo">
            <div class="company-logo-main">
                <a class="navbar-brand" href="#">
                    <img src="Resources\images\stunningBrands.jpeg" alt="Logo" width="100%" height="350" class="d-inline-block align-top">
                </a>
            </div>
        </section>
        <!-- Force next columns to break to new line -->
        <div class="w-100"></div>

        <!-- Products -->
        <section class="main-page products">
            <h1 class="Products-header">
                Products
            </h1>
            <div id="products" class="row">
                <script>
                    fetch('getProducts.php')
                        .then(response => response.json())
                        .then(data => {
                            const productContainer = document.getElementById('products');
                            data.forEach(product => {
                                const productDiv = document.createElement('div');
                                productDiv.classList = 'product-item col-6 col-sm-3';
                                productDiv.setAttribute(`data-id`, `${product.productID}`)

                                productDiv.innerHTML =
                                    `<div class="product" data-id="${product.productID}">
                                                                                                                                        <a class="navbar-product" href="#">
                                                                                                                                                                <img src="Resources/images/${product.imageID}.png" alt="Logo" width="100%" height="350" class="d-inline-block align-top">
                                                                                                                                                             </a>
                                                                                                                                                             </div> <div>${product.name}</div>`;
                                productContainer.appendChild(productDiv);
                            });
                        })
                        .catch(error => console.error('Error fetching data:', error));
                </script>
            </div>
        </section>
</section>